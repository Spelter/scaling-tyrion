% !TEX root=../thesis.tex
\chapter{Discussion}
\label{chapter:discussion}

\section{Stakeholders and aggregation} % (fold)
\label{sec:discussion_stakeholders'_and_aggregation}
It is important to define the needs and requirements of the stakeholders 
early in the process, in order to design a system that gives the right scope. 
By the aid of workshops we defined the requirements, as it is part of the 
research method (see \Ref{sec:workshops}). We can define the stakeholders in 
a hierarchy, based on their organizational structure, and areas of 
responsibility, this aids us in defining the requirements on the structure of 
the information presented.

There is a good synergy between the requirements and the system, when the 
system is designed with the stakeholders' wishes for viewing different type of 
information in mind. The synergy between the requirements and the system has 
both advantages and disadvantages. On one side the system has a great 
possibility to satisfy the requirements and needs of the stakeholders, since 
the system is tightly connected to the requirements. On the other side, the 
system can be inflexible to large changes, if the requirements change late in 
the project. In the workshops, we defined that the stakeholders must have the 
ability to view different kinds of information; the system must take these 
needs into consideration. A system capable of supporting a providing 
“awareness in presentation” of multiple stakeholders is by the very nature 
more complex. Such a system would have to process a larger amount of data than 
a single-perspective system in order to provide the required functionality. 
Processing larger amounts of data leads to a more complex system (back-end) – 
and in turn a more complex interplay between user and front-end, with effects 
on the interplay between front-end and back-end. The system can be more 
dynamic by reusing parts of the data processing for 
different information types, when designed with the needs as well as the 
requirements in mind. In order to meet the requirements of the different 
stakeholders needs we have to aggregate data. There are several ways to 
aggregate the groups of data according to the given criteria. The method used 
for aggregation of data that enables the best view for the stakeholders is not 
straightforward. We have chosen to explore the following simple alternatives: 
average, minimum, maximum, median, and frequency (count). These are by no 
means an exhaustive list, but represent well established, robust and simple to 
implement alternatives. To decide the aggregation method, we have to consider 
how each information type is structured, but also how this structure fits in 
with the stakeholder and their hierarchy. During the workshops, we decided 
that the way to aggregate the data that was best suited to the requirements is 
to take the average; the decision was based on how the data is connected to the stakeholders and their hierarchy.

When returning the processed data to the user, the system can use the 
context of the various stakeholders to aggregate the presentation of the data. Since the stakeholder hierarchy contains the area of responsibility of each stakeholder, the system can fit the visual display to the step of the current stakeholder. The system uses processed data for aggregating the hierarchy to find the stakeholder. Fitting the view to the stakeholder provides detail for a single stakeholder; this is useful for presenting a single stakeholder and their step.
%To let the user decide the detail level of the display can be useful, since the display then has the opportunity to present more overall information. 
We decided to fit the visual presentation of data 
to the current stakeholder, and have the opportunity to jump, back and forth, 
within the hierarchy of the stakeholders. By fitting the view to the 
stakeholder, the display enabled the user to receive more relevant information 
on the current stakeholder. A conflict of interest occurs between stakeholders 
due to overlapping areas of responsibility. The conflict is extremely difficult 
to consider, and is not taken into consideration when aggregating the data or 
fitting the view.

As the area director wants to study data from the entire area for a large 
period of time, and the segment director wants to study almost every detail 
that occurs on the segment, manual navigating in time was decided to use as a 
way to increase and decrease the level of detail in the data presented.

\subsection{Stakeholder and aggreation keywords} % (fold)
\label{sub:stakeholder_and_aggreation_keywords}
Keywords:

\begin{itemize}
	\item Important to define requirements early, in order to make an appropriate system, that is useful for the stakeholders'
	\item How to define the stakeholders' and requirements for use with a system?
	\begin{itemize}
		\item important to define who are the stakeholders'
		\item important to define what the stakeholders' needs are
		\item important to define to which need are connected to which stakeholder, in order to show the correct information in the system connected to each of the stakeholders' needs.
	\end{itemize}
	\item How can we design a system that used the requirements needed by the stakeholders' to process the data and visualize the data in such a way that the stakeholders' needs are met?
	In order to meet the requirements of the stakeholders' needs we need to aggregate the data. The following .....
	\item aggregation of data:
	\begin{itemize}
		\item two goals: geographic \& time
		\item aggregation based on detail level of visualization
		\begin{itemize}
			\item based on stakeholders' need
			\begin{itemize}
				\item detail level in map
				\item which area is shown in the map
				\item aggregation based on time
			\end{itemize}
		\end{itemize}
	\end{itemize}
	\item Data aggregation methods
	\begin{itemize}
		\item What are good ways to aggregate the data?
		\item How to determine what fits the requirements?
	\end{itemize}
	\item How to present the data to the users based on the requirements? (detail
	level per stakeholder in the hierarchy)
	\item Time navigation for zooming through the data.
\end{itemize}

% subsection stakeholder_and_aggreation_keywords (end)


% section stakeholders'_and_aggregation (end)

\section{Data storage and data queries} % (fold)
\label{sec:discussion_data_storage_and_data_queries}
As the data sets originate from different sources and contain different
structures, they can be difficult to efficiently query if not structured
correctly. One option for the structure is to merge all the
data sets into one large database, by merging the data sets in one large
database, the data are structured in an client-server architecture. 
A client can either communicate to the databases directly or through a middle
tier. Three-tier architecture is a very common solution on the Internet, where 
the communication between the client and the database goes through a service 
layer \cite[pp. 294-297]{toftHanseMallaugDatabaser}. The client-server 
architecture has the benefits of giving the front-end applications a single 
point of connection, avoiding duplication of data, and giving the database 
manager both a single structure to maintain and a single point of access with 
easier access control.

The alternative of the client-server architecture is a distributed
database \cite[pp. 301-303]{toftHanseMallaugDatabaser}. The distributed database
architecture is done by splitting the storage of data and the processing of
data over several servers. Some benefits of the distributed architecture are 
easier expansion, modular sets with built-inn flexibility, and if one node 
goes down the others still work. Exercising the built-inn flexibility of each
module is usually cheaper than to hand-code a specific change in hindsight\cite[pp. 117-130]{Bass:2012:SAP:2392670}. The distributed architecture is a 
modifiable data storage, where the modular sets are loosely linked sets. 
%software architecture p. 185 for other quality attributes
We demonstrated a hybrid of the client-server and distributed
architecture \cite[pp. 297-299]{toftHanseMallaugDatabaser}.

By using the three-tier architecture, we implemented a middle-tier which 
processed the data, and a lower tier containing several databases, see \Ref{fig:three-tier_architecture}. For
structuring the data sets with the stakeholders' requirements in mind, we
utilized one database which contained the stakeholders' areas of responsibility in
their hierarchy, and each of the other databases for different types of 
information. The semi-distributed databases mean that it is easy to remove or
add data sets, since the different types of information are connected to the
stakeholders' hierarchy. There are also some negative aspects using
the semi-distributed databases, for example: some data fields
will be duplicated. The duplication of data will lead to redundancy and
increased probability for data corruption and errors. In our case the duplication can be found as stations in the databases, due to the stations acting as the
connection between every data set. In the three-tier, distributed database, 
and semi-distributed architecture, the data have to be processed from the 
original source to fit in with the data structure.\\

We can increase the responsiveness of the system by utilizing the back-end for 
processing the data, since it usually on the same hardware as the databases or 
same sub-net, which provides quicker calls and responses to the databases from 
the data processing methods. By processing the data on the back-end, the 
aggregation of data means that there is a smaller data size to transfer. We 
have no control over what hardware the end user has, while the back-end 
is usually dedicated to one service and we can (more easily) control, and if 
necessary upgrade, the hardware.

The amount of data to be processed by the system is affected by three 
variables. The affecting variables are the stakeholders' need to navigate in 
time, the navigating in the stakeholder hierarchy, and the type of information.
As the level of detail increases by navigating in time, the amount of data to 
process decreases. Similarly by decreasing the level of detail, the amount of 
data to process increases. The navigation in the hierarchy affects the amount 
of data, as the further up in the hierarchy one navigates, the larger the 
areas of responsibility grows. The information type affects the amount of data 
in a data-set, because each information type have different needs for the 
amount of data to be processed. The system performance is determined by the 
amount of data to process, as it uses more time to process more data. 

\subsection{Data storage and data queries keywords} % (fold)
\label{sub:data_storage_and_data_queries_keywords}
Keywords:
\begin{itemize}
	\item Data set structure in prototype
	\begin{itemize}
		\item How should the data sets be structured when the sets are based 
		on the stakeholders' need for different type of information?
		\begin{itemize}
			\item Connection to the requirements of the stakeholders'.
			\begin{itemize}
				\item Stakeholder responsibility area from the hierarchy
			\end{itemize}
			\item Advantages and disadvantages with one or several sets in storage.
			\begin{itemize}
				\item Scalability and modifiability ref quality attributes \cite{Bass:2012:SAP:2392670}
				\item Duplication of data with several sets of data.
			\end{itemize}
		\end{itemize}
	\end{itemize}
	\item Data queries
	\begin{itemize}
		\item Limit queries for data processing efficiency 
		and more responsive systems
		\begin{itemize}
			\item By the aid of time navigation and requirements, limit the 
			queries for more efficient calls to the data storage.
			\item The system will be more efficient in the processing of the 
			data, when limiting the quires.
		\end{itemize}
		\item Front end vs back end data processing for system efficiency and
		limiting data traffic
		\item Should the data be processed in the front-end or the back-end 
		of the system?
		\begin{itemize}
			\item The data should be aggregated in the back-end of the system, 
			since it is more efficient.
			\begin{itemize}
				\item Quicker calls to the database from the back-end.
				\item Less data traffic during transfer of.
				\item Usually quick hardware on server side, while it have a 
				great span in the front-end.
			\end{itemize}
		\end{itemize}
	\end{itemize}
\end{itemize}

% subsection data_storage_and_data_queries_keywords (end)

% section data_storage_and_queries (end)

%\section{Review of own work} % (fold)
%\label{sec:review_of_own_work}
%Keywords:
%\begin{itemize}
%	\item Appropriate method?
%	\item 
%\end{itemize}
% section review_of_own_work (end)
